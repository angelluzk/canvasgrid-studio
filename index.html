<!DOCTYPE html>
<html lang="pt-BR" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CanvasGrid Studio - Editor Pixel Art</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        gray: { 750: '#2d3748', 850: '#1a202c', 950: '#0d1117' }
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 flex flex-col min-h-screen font-sans antialiased transition-colors duration-300">

    <header class="bg-white dark:bg-gray-800 shadow-lg sticky top-0 z-50 border-b border-gray-200 dark:border-gray-700">
        <nav class="container mx-auto px-4 h-16 flex justify-between items-center">
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 bg-cyan-600 rounded-lg flex items-center justify-center text-white font-bold text-lg">C</div>
                <h1 class="text-xl font-bold tracking-tight"><span class="text-cyan-600 dark:text-cyan-500">CanvasGrid</span> Studio</h1>
            </div>
            
            <div class="hidden md:flex space-x-1 h-full">
                <button id="tab-canvas" class="tab-btn px-5 h-full font-medium text-sm border-b-2 border-transparent text-gray-500 dark:text-gray-400 hover:text-cyan-600 dark:hover:text-cyan-400 transition-colors focus:outline-none" data-target="app-canvas-draw-pro">Canvas Draw Pro</button>
                <button id="tab-pixel" class="tab-btn px-5 h-full font-medium text-sm border-b-2 border-cyan-600 text-cyan-600 dark:text-white dark:border-cyan-500 transition-colors focus:outline-none" data-target="app-pixel-art-editor">Pixel Art Editor</button>
            </div>

            <div class="flex items-center">
                <button id="theme-toggle" class="p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" aria-label="Alternar tema">
                    <svg id="theme-icon-dark" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>
                    <svg id="theme-icon-light" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M12 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>
                </button>
            </div>
        </nav>
    </header>

    <main class="flex-grow container mx-auto p-4 md:p-6 flex flex-col h-[calc(100vh-4rem)]">
        
        <section id="app-canvas-draw-pro" class="app-module hidden h-full flex flex-col items-center justify-center text-center">
            <h2 class="text-2xl font-bold mb-2">Canvas Draw Pro</h2>
            <p class="text-gray-500">Em breve...</p>
        </section>

        <section id="app-pixel-art-editor" class="app-module flex flex-col lg:flex-row gap-6 h-full items-start">
            
            <aside class="w-full lg:w-72 bg-white dark:bg-gray-800 p-5 rounded-xl shadow-md border border-gray-200 dark:border-gray-700 flex-shrink-0 flex flex-col max-h-full overflow-y-auto" id="pixel-art-tools">
                
                <div class="mb-6">
                    <div class="flex justify-between items-center mb-2">
                        <label for="grid-size-slider" class="text-xs font-bold uppercase text-gray-500 dark:text-gray-400">Grid Size</label>
                        <span id="grid-size-label" class="text-sm font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-cyan-600 dark:text-cyan-400">16x16</span>
                    </div>
                    <input type="range" id="grid-size-slider" min="8" max="64" value="16" step="8" class="w-full h-2 bg-gray-200 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer accent-cyan-600">
                </div>

                <hr class="border-gray-200 dark:border-gray-700 mb-6">

                <div class="mb-6">
                    <h3 class="text-xs font-bold uppercase text-gray-500 dark:text-gray-400 mb-3">Ferramentas</h3>
                    <div class="grid grid-cols-3 gap-2">
                        <button class="tool-btn active" data-tool="paint" title="Pintar"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z" /><path fill-rule="evenodd" d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z" clip-rule="evenodd" /></svg><span>Pintar</span></button>
                        <button class="tool-btn" data-tool="erase" title="Apagar"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M13.477 14.89A5.98 5.98 0 015.11 6.524l8.367 8.367zm1.414-1.414L6.524 5.11a5.98 5.98 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z" clip-rule="evenodd" /></svg><span>Apagar</span></button>
                        <button class="tool-btn" data-tool="fill" title="Balde"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M5.5 3A3.5 3.5 0 002 6.5V13.5A3.5 3.5 0 005.5 17h9a3.5 3.5 0 003.5-3.5V6.5A3.5 3.5 0 0014.5 3h-9zM15 6.5a1.5 1.5 0 10-3 0 1.5 1.5 0 003 0zM5.5 5h9a1.5 1.5 0 011.5 1.5V7h-12V6.5A1.5 1.5 0 015.5 5zM5 13.5V9h10v4.5a1.5 1.5 0 01-1.5 1.5h-7A1.5 1.5 0 015 13.5z" /></svg><span>Balde</span></button>
                        <button class="tool-btn" data-tool="pick" title="Conta-gotas"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.707 10.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V7a1 1 0 10-2 0v4.586l-1.293-1.293zM3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd" /></svg><span>Pegar</span></button>
                        <button class="tool-btn" data-tool="fillScreen" title="Tela Cheia"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3 3a1 1 0 011-1h12a1 1 0 011 1v14a1 1 0 01-1 1H4a1 1 0 01-1-1V3zm1 1v12h10V4H4z" clip-rule="evenodd" /></svg><span>Tela</span></button>
                    </div>
                </div>

                <hr class="border-gray-200 dark:border-gray-700 mb-6">

                <div class="mb-6">
                    <h3 class="text-xs font-bold uppercase text-gray-500 dark:text-gray-400 mb-3">Cores</h3>
                    <div id="color-palette" class="grid grid-cols-4 gap-3 mb-3"></div>
                    <div class="relative w-full h-10 overflow-hidden rounded-lg ring-1 ring-gray-300 dark:ring-gray-600 cursor-pointer group">
                        <div class="absolute inset-0 flex items-center justify-center text-xs text-gray-500 dark:text-gray-400 pointer-events-none group-hover:text-cyan-500">Cor Customizada</div>
                        <input type="color" id="color-picker" value="#FF0000" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer" aria-label="Selecionar cor customizada">
                    </div>
                </div>

                <div class="mt-auto">
                    <hr class="border-gray-200 dark:border-gray-700 mb-6">
                    <h3 class="text-xs font-bold uppercase text-gray-500 dark:text-gray-400 mb-3">Ações</h3>
                    <div class="flex gap-2 mb-3">
                         <button id="btn-zoom-out" class="flex-1 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 py-2 rounded-lg font-bold transition-colors">-</button>
                         <span id="zoom-display" class="flex items-center justify-center px-2 text-sm text-gray-500 font-mono">100%</span>
                         <button id="btn-zoom-in" class="flex-1 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 py-2 rounded-lg font-bold transition-colors">+</button>
                    </div>
                    <button id="btn-export-png" class="w-full bg-cyan-600 hover:bg-cyan-700 text-white font-medium py-3 rounded-lg shadow transition-colors flex items-center justify-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" /></svg>
                        Baixar PNG
                    </button>
                </div>
            </aside>

            <section class="flex-grow flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden h-full relative" id="pixel-editor-wrapper">
                
                <div id="zoom-container" class="w-full h-full overflow-auto flex items-center justify-center p-10">
                    <div id="loading-text" class="text-gray-500 dark:text-gray-400 flex flex-col items-center animate-pulse absolute">
                        <svg class="animate-spin h-10 w-10 text-cyan-600 dark:text-cyan-500 mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                        <p>Inicializando Grid...</p>
                    </div>
                    
                    </div>
                
                <div class="absolute bottom-4 right-4 bg-gray-800 text-white text-xs px-3 py-1 rounded-full opacity-70 pointer-events-none">
                    Dica: Use Scroll para Zoom
                </div>
            </section>

        </section>
    </main>

    <script src="js/main.js" type="module"></script>
</body>
</html>