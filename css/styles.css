@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

:root{
  --color-base: #f3f4f6;
  --color-panel: #ffffff;
  --color-border: #e5e7eb;
  --color-text: #1f2937;
  --color-muted: #6b7280;
  --color-primary: #7f5af0;

  --rg-1:#ff6ec7; --rg-2:#ff9a5a; --rg-3:#ffd85a; --rg-4:#75ffa1; --rg-5:#6edbff; --rg-6:#c07bff;
  --ui-glow: 0 10px 40px rgba(192,123,255,0.12), 0 4px 20px rgba(110,219,255,0.06);
  --panel-elev: 0 12px 40px rgba(2, 2, 5, 0.06);
  --glass: rgba(255,255,255,0.06);
}

.dark {
  --color-base:#0f0e17;
  --color-panel:#16161a;
  --color-border:#2e2c3b;
  --color-text:#fffffe;
  --color-muted:#94a1b2;
  --color-primary:#9f85ff;

  --rg-1:#ff5db0; --rg-2:#ff8a3f; --rg-3:#ffdf5f; --rg-4:#5ef2b0; --rg-5:#3fd3ff; --rg-6:#b78bff;
  --ui-glow: 0 14px 48px rgba(151,106,255,0.16), 0 6px 24px rgba(63,211,255,0.06);
  --panel-elev: 0 14px 48px rgba(0,0,0,0.55);
  --glass: rgba(255,255,255,0.02);
}

body{
  font-family: 'Inter', sans-serif;
  background: var(--color-base);
  color: var(--color-text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

.custom-scrollbar::-webkit-scrollbar{ width:8px; height:8px; }
.custom-scrollbar::-webkit-scrollbar-track{ background:transparent; }
.custom-scrollbar::-webkit-scrollbar-thumb{ background: linear-gradient(180deg,var(--rg-6),var(--rg-4)); border-radius:8px; border:2px solid transparent; background-clip: padding-box; }
.custom-scrollbar::-webkit-scrollbar-thumb:hover{ transform: scale(1.02); }

.nav-pill{
  @apply flex items-center px-4 py-1.5 rounded-full text-sm font-medium transition-all border border-transparent;
  color:var(--color-muted);
  background: linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
  display:inline-flex;
  align-items:center;
  gap:6px;
  position:relative;
  overflow:visible;
}
.nav-pill .lucide{ display:block; margin-right:4px; opacity:0.9; transform:translateY(0); transition: transform .22s cubic-bezier(.2,.9,.3,1), opacity .18s;}
.nav-pill:hover{ transform: translateY(-3px); box-shadow: var(--ui-glow); color:var(--color-text); }
.nav-pill.active{
  background: linear-gradient(90deg,var(--rg-6), var(--rg-5));
  color:white;
  box-shadow: 0 10px 30px rgba(0,0,0,0.18), 0 0 30px rgba(110,219,255,0.04);
  border-color: transparent;
}

.tool-btn{
  @apply w-10 h-10 flex items-center justify-center rounded-xl transition-all relative border border-transparent;
  color:var(--color-muted);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.01));
  box-shadow: 0 6px 18px rgba(0,0,0,0.04);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:0;
  padding:6px;
}
.tool-btn i, .tool-btn svg{ width:20px; height:20px; display:block; transition: transform .22s cubic-bezier(.2,.9,.3,1), filter .22s, opacity .18s; }
.tool-btn:hover{ transform: translateY(-4px) scale(1.06); box-shadow: var(--ui-glow); color: #fff; }
.tool-btn.active{
  background: linear-gradient(135deg,var(--rg-1), var(--rg-6));
  color:white;
  box-shadow: 0 18px 50px rgba(159,133,255,0.18);
  transform: translateY(-2px) scale(1.02);
}
.tool-btn.active svg{ transform: scale(1.06) rotate(-6deg); filter: drop-shadow(0 8px 30px rgba(127,90,240,0.18)); }

.icon-btn, .icon-btn-small{
  @apply p-2 rounded-lg transition-colors;
  color:var(--color-muted);
  background: transparent;
  border:1px solid rgba(255,255,255,0.02);
  display:inline-flex;
  align-items:center;
  justify-content:center;
}
.icon-btn svg, .icon-btn i, .icon-btn-small svg, .icon-btn-small i{
  width:18px; height:18px; transition: transform .18s, filter .18s, opacity .12s;
}
.icon-btn:hover, .icon-btn-small:hover{
  background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(127,90,240,0.03));
  color:var(--color-text);
  transform: translateY(-3px);
  box-shadow: 0 10px 30px rgba(127,90,240,0.06);
}
.icon-btn:active, .icon-btn-small:active{ transform: translateY(-1px) scale(.995); }

.btn-primary{
  background: linear-gradient(90deg,var(--rg-1), var(--rg-4), var(--rg-6));
  color:white;
  @apply font-medium py-2 px-4 rounded-lg shadow-lg transition-all flex items-center justify-center active:scale-95;
  box-shadow: 0 14px 44px rgba(127,90,240,0.08);
  border: 1px solid rgba(255,255,255,0.03);
}
.btn-primary svg, .btn-primary i{ width:18px; height:18px; margin-right:8px; }
.btn-primary:hover{ transform: translateY(-3px) scale(1.02); filter: brightness(1.06); }

.color-swatch{
  @apply w-full h-8 rounded-md cursor-pointer shadow-sm transition-transform hover:scale-105; 
  border: 1px solid var(--color-border);
}
.color-swatch.active{
  transform: scale(1.06);
  box-shadow: 0 8px 28px rgba(110,219,255,0.06), 0 2px 8px rgba(159,133,255,0.04);
  border-color: transparent;
}

.bg-dot-pattern{ background-image: radial-gradient(var(--color-border) 1px, transparent 1px); background-size: 20px 20px; opacity:0.9; }
.bg-checkered{ background-color: var(--color-base); background-image: linear-gradient(45deg, rgba(128,128,128,0.04) 25%, transparent 25%), linear-gradient(-45deg, rgba(128,128,128,0.04) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, rgba(128,128,128,0.04) 75%), linear-gradient(-45deg, transparent 75%, rgba(128,128,128,0.04) 75%); background-size: 20px 20px; }

.pixel-grid{ display:grid; grid-template-columns:repeat(var(--grid-size,16),1fr); width:100%; height:100%; user-select:none; }
.grid-cell{ border:1px solid rgba(128,128,128,0.1); width:100%; height:100%; transition: background-color .12s linear; }

.range-vertical{ writing-mode:vertical-lr; direction:rtl; appearance:auto; width:16px; height:100px; vertical-align:bottom; cursor:pointer; }

.cursor-brush{ cursor: crosshair; }

.layer-item{ @apply flex items-center gap-3 p-2 rounded-lg border border-transparent cursor-pointer select-none text-sm transition-colors; }
.layer-item:hover{ background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(127,90,240,0.02)); transform: translateX(3px); box-shadow: 0 8px 24px rgba(0,0,0,0.06); }
.layer-item.active{ background: linear-gradient(90deg,var(--rg-6),var(--rg-5)); color:white; border-color: transparent; box-shadow: 0 18px 44px rgba(159,133,255,0.12); }

#canvas-container{ border-radius:10px; border:1px solid rgba(0,0,0,0.06); transition: box-shadow .14s ease, transform .12s ease; background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.01)); }
#canvas-container.canvas-active{ box-shadow: 0 30px 80px rgba(79,52,241,0.12), 0 8px 30px rgba(110,219,255,0.06); transform: translateY(-2px); }

#canvas-status-bar, #pixel-status-bar{ backdrop-filter: blur(6px); border-radius:9999px; box-shadow: 0 14px 40px rgba(0,0,0,0.32); background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); }

@keyframes floaty { 0%{ transform: translateY(0);} 50%{ transform: translateY(-3px);} 100%{ transform: translateY(0);} }
@keyframes popIn { 0%{ transform: scale(.95); opacity:0 } 100%{ transform: scale(1); opacity:1 } }

.ui-icon-animated svg{ transition: transform .28s cubic-bezier(.2,.9,.3,1), filter .28s, opacity .18s; }
.ui-icon-animated:hover svg{ transform: translateY(-3px) scale(1.08) rotate(-6deg); filter: drop-shadow(0 12px 36px rgba(127,90,240,0.16)); }

button .lucide, button svg { display:block; margin:auto; vertical-align:middle; }

button:focus, input:focus { outline: none; box-shadow: 0 0 0 4px rgba(159,133,255,0.06); transform: translateY(-1px); }

@media (max-width:980px){
  aside.w-72{ width:64px; }
  .nav-pill{ display:none; }
}

header .w-8{ border-radius:10px; display:flex; align-items:center; justify-content:center; }
header .w-8 i, header .w-8 svg{ width:20px; height:20px; display:block; margin:auto; }
