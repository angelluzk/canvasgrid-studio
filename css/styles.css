#pixel-editor-wrapper, #canvas-wrapper {
    overflow: hidden; 
}

#zoom-container {
    display: flex;
    align-items: flex-start;
    justify-content: center;
}

#pixel-grid-container {
    background-color: #fff;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    background-image:
        linear-gradient(45deg, #ccc 25%, transparent 25%),
        linear-gradient(-45deg, #ccc 25%, transparent 25%),
        linear-gradient(45deg, transparent 75%, #ccc 75%),
        linear-gradient(-45deg, transparent 75%, #ccc 75%);
    background-size: 20px 20px;
    background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
    width: 500px;
    height: 500px;
    transition: transform 0.1s ease-out;
    flex-shrink: 0;
}

.dark #pixel-grid-container {
    background-image:
        linear-gradient(45deg, #4a5568 25%, transparent 25%),
        linear-gradient(-45deg, #4a5568 25%, transparent 25%),
        linear-gradient(45deg, transparent 75%, #4a5568 75%),
        linear-gradient(-45deg, transparent 75%, #4a5568 75%);
}

.pixel-grid {
    display: grid;
    grid-template-columns: repeat(var(--grid-size, 16), 1fr);
    width: 100%;
    height: 100%;
    user-select: none;
}

.grid-cell {
    width: 100%;
    height: 100%;
    border: 1px solid rgba(0,0,0,0.05); 
}

.pixel-grid.dense .grid-cell {
    border: none;
}

.tool-btn {
    @apply flex flex-col items-center justify-center p-2 rounded-lg border border-gray-200 dark:border-gray-600;
    @apply bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300;
    @apply transition-all duration-200 shadow-sm text-xs font-medium;
}

.tool-btn:hover {
    @apply bg-gray-100 dark:bg-gray-600 transform -translate-y-0.5;
}

.tool-btn.active {
    @apply bg-cyan-600 dark:bg-cyan-500 text-white border-cyan-600;
    @apply ring-2 ring-offset-1 ring-cyan-500 dark:ring-offset-gray-800;
}

.color-swatch {
    @apply w-full h-8 rounded cursor-pointer border border-gray-300 dark:border-gray-600 shadow-sm;
    @apply transition-transform hover:scale-110;
}

.color-swatch.active {
    @apply ring-2 ring-offset-2 ring-cyan-500 dark:ring-offset-gray-800 border-transparent;
    transform: scale(1.1);
    z-index: 10;
}

.canvas-tool-btn {
    @apply w-10 h-10 flex items-center justify-center rounded-lg text-gray-500 dark:text-gray-400 transition-colors;
}

.canvas-tool-btn:hover {
    @apply bg-gray-100 dark:bg-gray-700 text-cyan-600 dark:text-cyan-400;
}

.canvas-tool-btn.active {
    @apply bg-cyan-600 text-white shadow-md;
}

#canvas-container {
    width: 800px;
    height: 600px;
    background-color: white;
    background-image:
        linear-gradient(45deg, #eee 25%, transparent 25%),
        linear-gradient(-45deg, #eee 25%, transparent 25%),
        linear-gradient(45deg, transparent 75%, #eee 75%),
        linear-gradient(-45deg, transparent 75%, #eee 75%);
    background-size: 20px 20px;
    position: relative;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.drawing-layer {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
}

.drawing-layer.active-layer-canvas {
    pointer-events: auto;
    z-index: 10;
}

.layer-item {
    @apply flex items-center gap-2 p-2 rounded-lg border border-transparent cursor-pointer select-none bg-gray-50 dark:bg-gray-900/50;
    @apply hover:bg-gray-100 dark:hover:bg-gray-700;
}

.layer-item.active {
    @apply border-cyan-500 bg-cyan-50 dark:bg-cyan-900/20;
}

.layer-preview {
    @apply w-10 h-10 bg-white border border-gray-300 dark:border-gray-600 rounded shadow-sm;
}